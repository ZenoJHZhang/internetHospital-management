(window.webpackJsonp=window.webpackJsonp||[]).push([["WeE9"],{WeE9:function(t,e,a){"use strict";a.r(e);var i=a("31PE"),r=a("Ut8h"),n={components:{allUserReservationDetail:i.a},data:function(){return{userReservation:[],userReservationUuId:"",clickFlag:!1,dialogVisible:!1,form:{},rules:{reason:[{required:!0,message:"请输入审核不通过原因",trigger:"blur"}]},refuseUuId:"",auditStatus:"",pageNo:1,pageSize:10,total:10,options:[{value:"-1",label:"全部"},{value:"0",label:"未审核的"},{value:"1",label:"已审核通过的"},{value:"2",label:"审核未通过的"}]}},mounted:function(){this.$nextTick(function(){this.getUserReservationByAuditStatus()})},methods:{getUserReservationByAuditStatus:function(){var t=this,e=this.auditStatus;""===this.auditStatus&&(e=0),Object(r.e)(e,this.pageNo,this.pageSize).then(function(e){200===e.data.returnCode&&(t.userReservation=e.data.returnData.list,t.total=e.data.returnData.total)})},getDetail:function(t,e,a){this.userReservationUuId=t.uuId,this.clickFlag=!0},argeeAudit:function(t,e){var a=this,i=e.uuId;Object(r.a)(i,"2",null).then(function(t){200===t.data.returnCode&&(a.$store.state.errorTokenVisible=!0,a.$store.state.errorTokenMessage="审核通过成功",a.getUserReservationByAuditStatus())})},refuseAudit:function(t,e){this.refuseUuId=e.uuId,this.dialogVisible=!0},confirm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.dialogVisible=!1,Object(r.a)(e.refuseUuId,"1",e.form.reason).then(function(t){200===t.data.returnCode&&(e.$store.state.errorTokenVisible=!0,e.$store.state.errorTokenMessage="审核不通过成功",e.getUserReservationByAuditStatus())})})},changeStatus:function(){this.pageNo=1,this.getUserReservationByAuditStatus()}}},l=a("KHd+"),o=Object(l.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",{staticStyle:{"margin-left":"3px"}},[a("el-aside",{attrs:{width:"45%"}},[a("div",{staticStyle:{"margin-top":"25px","margin-bottom":"20px"}},[a("span",{staticStyle:{"margin-right":"15px"}},[t._v("审核状态选择")]),t._v(" "),a("el-select",{attrs:{placeholder:"审核状态选择"},on:{change:t.changeStatus},model:{value:t.auditStatus,callback:function(e){t.auditStatus=e},expression:"auditStatus"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.userReservation},on:{"row-click":t.getDetail}},[a("el-table-column",{attrs:{prop:"departmentName",label:"科室名",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"doctorName",label:"医生姓名",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"clinicDate",label:"就诊日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"timeInterval",label:"就诊时段"}}),t._v(" "),a("el-table-column",{attrs:{prop:"doctorName",label:"审核状态"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.argeeAudit(e.$index,e.row)}}},[t._v("通过")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.refuseAudit(e.$index,e.row)}}},[t._v("不通过")])]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"50px"}},[a("el-pagination",{attrs:{total:t.total,"current-page":t.pageNo,"page-size":t.pageSize,layout:"prev, pager, next"},on:{"update:currentPage":function(e){t.pageNo=e},"current-change":function(e){t.getUserReservationByAuditStatus()}}})],1)],1),t._v(" "),a("el-main",[t.clickFlag?a("all-user-reservation-detail",{attrs:{"user-reservation-uu-id":t.userReservationUuId}}):t._e()],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"提示",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{inline:!0,model:t.form,rules:t.rules}},[a("el-form-item",{attrs:{label:"审核不通过原因",prop:"reason"}},[a("el-input",{attrs:{placeholder:"审核不通过原因"},model:{value:t.form.reason,callback:function(e){t.$set(t.form,"reason",e)},expression:"form.reason"}})],1),t._v(" "),a("br"),t._v(" "),a("el-form-item",[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.confirm("form")}}},[t._v("确 定")])],1)],1)],1)],1)},[],!1,null,null,null);o.options.__file="index.vue";e.default=o.exports}}]);